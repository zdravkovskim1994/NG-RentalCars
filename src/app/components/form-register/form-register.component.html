<div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">

        <div *ngIf="alert" class="alert alert-success" role="alert">
          <strong>Registration completed successfully <i class="fas fa-check"></i></strong>
        </div>
        
        <div class="card">
          <header class="card-header">
              <a class="float-right btn btn-outline-primary mt-1" routerLink="/login">Log in</a>
              <h4 class="card-title mt-2">Sign up</h4>
          </header>
          <article class="card-body">

            <form [formGroup]="registrationForm" (submit)="onSubmit()">
                <div class="form-row">
                    <div class="col form-group">
                        <label>First name </label>
                          <input class="form-control" 
                                 type="text" 
                                 formControlName="firstName" 
                                 [class.is-invalid]="firstName.invalid && firstName.touched" >
                          <small class="text-danger"
                                 [class.d-none]="firstName.valid || firstName.untouched">Username is required
                          </small>
                    </div>

                    <div class="col form-group">
                        <label>Last name</label>
                          <input class="form-control"
                                 type="text"
                                 formControlName="lastName"
                                 [class.is-invalid]="lastName.invalid && lastName.touched" >
                          <small class="text-danger"
                                 [class.d-none]="lastName.valid || lastName.untouched">Lastname is required
                          </small>
                    </div>
                </div>

                <div class="form-group">
                    <label>Email address</label>
                    <input class="form-control"
                           type="email" 
                           formControlName="email"
                           [class.is-invalid]="email.invalid && email.touched" >
                    <small class="text-danger"
                           [class.d-none]="email.valid || email.untouched">Email is required
                    </small>

                    <small class="form-text text-muted">We'll never share your email with anyone else.</small>
                </div>

                <div class="form-group">
                    <label class="form-check form-check-inline">
                      <input class="form-check-input"
                             type="radio" 
                             name="gender" 
                             value="male"
                             formControlName="gender">
                      <span class="form-check-label"> Male </span>
                    </label>

                    <label class="form-check form-check-inline">
                      <input class="form-check-input" 
                             type="radio" 
                             name="gender" 
                             value="female" 
                             formControlName="gender">
                      <span class="form-check-label"> Female</span>
                    </label>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                      <label>City</label>
                      <input class="form-control"
                             type="text" 
                             formControlName="city" 
                             [class.is-invalid]="city.invalid && city.touched">
                      <small class="text-danger"
                             [class.d-none]="city.valid || city.untouched" >City is required
                      </small>
                    </div>

                    <div class="form-group col-md-6">
                      <label>Country</label>
                      <select class="form-control" 
                              formControlName="country">
                        <option *ngFor="let country of countries">{{ country }}</option>
                      </select>
                    </div>
                </div>

                <div class="form-group">
                  <label>Phone</label>
                  <input class="form-control"
                         type="tel" 
                         placeholder="07xxxxxxx" 
                         formControlName="phone"
                         [class.is-invalid]="phone.invalid && phone.touched">
                  <div *ngIf="phone.invalid && phone.touched">
                    <small class="text-danger" *ngIf="registrationForm.get('phone').errors.required">Phone is required</small>
                    <small class="text-danger" *ngIf="registrationForm.get('phone').errors.pattern">Please enter valid phone number</small>
                  </div>
                </div>

                <div class="form-group">
                    <label>Create password</label>
                    <input class="form-control"
                           type="password" 
                           formControlName="password" 
                           [class.is-invalid]="password.invalid && password.touched">
                    <div *ngIf="password.invalid && password.touched">
                      <small class="text-danger" *ngIf="registrationForm.get('password').errors.required">Password is required</small>
                      <small class="text-danger" *ngIf="registrationForm.get('password').errors.minlength ||
                              registrationForm.get('password').errors.maxlength">Password must be between 6 and 15 characters</small>
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-primary btn-block"
                            type="submit"
                            [disabled]="registrationForm.invalid"> Register  
                    </button>
                </div>
                <small class="text-muted">By clicking the 'Sign Up' button, you confirm that you accept our <br> Terms of use and Privacy Policy.</small>                                          
            </form>
          </article>

      <div class="border-top card-body text-center">Have an account? <a routerLink="/login">Log In</a></div>
        
    
        </div>
      </div>
    </div>
</div>